<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Workout Wednesday Week 8 -  Merimekko Chart </title>
	<link rel="stylesheet" href="http://www.tarannum.io/assets/css/styles_inchmeal.css"/>
	<link rel="alternate" type="application/rss+xml" title="Inchmeal RSS" href="/rss-feed.xml" />

	<script src="http://www.tarannum.io/assets/js/inchmeal_head.js"></script>

	
	
	<script type="text/javascript"
			src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
	
	<script>
		MathJax.Hub.Config({
			"HTML-CSS": { scale: 82 },
			"displayAlign": "left"
		});
	</script>
	

	
	
	<meta name="description" content="Inchmeal | Workout Wednesday Week 8 -  Merimekko Chart "/>

	

	



	
	<link rel="icon" sizes="32x32" href="http://www.tarannum.io/assets/img/favicon-32x32.png">




	
	<link rel="icon" sizes="192x192" href="http://www.tarannum.io/assets/img/touch-icon-192x192.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://www.tarannum.io/assets/img/apple-touch-icon-180x180-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://www.tarannum.io/assets/img/apple-touch-icon-152x152-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.tarannum.io/assets/img/apple-touch-icon-144x144-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://www.tarannum.io/assets/img/apple-touch-icon-120x120-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.tarannum.io/assets/img/apple-touch-icon-114x114-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://www.tarannum.io/assets/img/apple-touch-icon-76x76-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.tarannum.io/assets/img/apple-touch-icon-72x72-precomposed.png">




	
	<link rel="apple-touch-icon-precomposed" href="http://www.tarannum.io/assets/img/apple-touch-icon-precomposed.png">	




	
	<meta name="msapplication-TileImage" content="http://www.tarannum.io/assets/img/msapplication_tileimage.png"/>




	
	<meta name="msapplication-TileColor" content="#fabb00">



	<!-- Facebook Optimization -->
	<meta property="og:locale" content="en_EN" />
	
	<meta property="og:title" content="Workout Wednesday Week 8 -  Merimekko Chart " />
	<meta property="og:description" content="Data Visualisation"/>
	<meta property="og:url" content="http://www.tarannum.io//2017/02/25/workout-wednesday-week8.html" />
	<meta property="og:site_name" content="visual vantage" />
	

	

	<!-- Search Engine Optimization -->
	

	<link type="text/plain" rel="author" href="http://www.tarannum.io//humans.txt" />

	
</head>

<body id="top-of-page" class="">
	
<div id="navigation" class="sticky">
  <nav class="top-bar" data-topbar>
    <ul class="title-area">
      <li class="name">
        <h1>
          <a href="http://www.tarannum.io">
            <img src="http://www.tarannum.io/assets/img/logo.png"/>
          </a>
        </h1>
      </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu"(text inside span) to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              

          
          
              <li class="divider"></li>
              <li><a href="http://www.tarannum.io/">home</a></li>
          
        

              

          
          
              <li class="divider"></li>
              <li><a href="http://www.tarannum.io/archives/">archive</a></li>
          
        

              

          
          
              <li class="divider"></li>
              <li><a href="http://www.tarannum.io/about/">about</a></li>
          
        
        
      </ul>

      <ul class="left">
        <li class="divider"></li>
        

              

          
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->


	<div class="row t30">
    <div class="medium-8 columns medium-offset-2 end">

        <article itemscope itemtype="http://schema.org/Article">
            <header>
				<span itemprop="name">
					<h1>Workout Wednesday Week 8 -  Merimekko Chart </h1>
				</span>
            </header>

            
            <p class="tm10">
                
                <time class="post-date pr20" datetime="February 25, 2017" itemprop="datePublished"> February 25, 2017</time>
                
                
                <span><a title="View all posts in tableau" href="/archives/#search/tableau"><span class="radius info label">tableau</span></a> <a title="View all posts in WorkoutWednesday" href="/archives/#search/WorkoutWednesday"><span class="radius info label">WorkoutWednesday</span></a> <a title="View all posts in Merimekko" href="/archives/#search/Merimekko"><span class="radius info label">Merimekko</span></a> </span>
                
            </p>
            

            

			<span itemprop="articleSection">
            <hr/>

            


			<p>This week’s <a href="http://www.womanindata.co.uk/2017/02/workout-wednesday-week-8-marimekko.html">Workout Wednesday</a> was given by <a href="http://www.womanindata.co.uk/">Emma Whyte</a> to recreate the below makeover of <a href="http://junkcharts.typepad.com/junk_charts/2016/12/story-within-story-bar-within-bar.html">Junk charts</a> in Tableau in the form of Merimekko chart.</p>

<!--more-->

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/sample.png" class="alignimgcenter" itemprop="image" /></p>

<p>This was my first time creating the famous Merimekko chart. As suggested by Emma, I went through Jonathan’s Drummey excellent <a href="https://www.tableau.com/about/blog/2016/8/how-build-marimekko-chart-tableau-58153">tutorial</a> on Merimekko Chart. He had given a step by step process for the same. I read the blog once, and decided to create the chart on my own then. Out of everything, the calculation for x-axis seemed most challenging.</p>

<p>Emma had given the following rules for the viz:</p>

<ul>
  <li>Show the 50% point of equality as a grid line</li>
  <li>Dashboard size to be 660 * 650 pixels</li>
  <li>Add on the direction of less equality</li>
  <li>Label the columns of the Marimekko to match hers</li>
  <li>Label the first two segments Male and Female</li>
  <li>Make sure the tooltips match hers</li>
</ul>

<p>I downloaded the <a href="https://drive.google.com/file/d/0BwwOAU_ldxzwdVdJdGcydFZkekU/view">data</a> and started with the process of creating a cross tab first to get the calculations right.</p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/data.png" class="alignimgcenter" itemprop="image" /></p>

<p>Looking at the data, these were the steps I listed down to follow:</p>

<ul>
  <li>Extract Female percentage and sort Job Type by it.</li>
  <li>Extract “Total” value for every Job type</li>
  <li>Count a running sum of “Total” value to get x-axis marks for every job-type</li>
</ul>

<p><strong>Extracting Female percentage for every “Job Type”</strong></p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/femalecalc.png" class="alignimgcenter" itemprop="image" /></p>

<p><strong>Extracting “Total” Value</strong></p>

<p>I did this by doing an LOD calculation.</p>

<p><em>For every “Job Type”, extract the value of “percentage” when the “Subtype” is “Total”</em></p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/totalcalc.png" class="alignimgcenter" itemprop="image" /></p>

<p>After putting these two calculations as dicreet on the row shelf, this is what we get:</p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/crstab1.png" class="alignimgcenter" itemprop="image" /></p>

<p><strong>Count a running sum of “Total” value to get x-axis marks for every job-type</strong></p>

<p>What I want now is to increment <strong>Total Jobs</strong> value only when the “Job Type” changes. We use a simple calculation to do that.</p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/xaxis.png" class="alignimgcenter" itemprop="image" /></p>

<p>This is how the above expression is working:</p>

<ul>
  <li>For the first row, since we passed 0 as an argument in <strong>Previous Value(0)</strong>, it becomes <strong>ATTR[Total % of Jobs] + 0</strong>.</li>
  <li>To understand the part <strong>ATTR[Total % of Jobs]</strong>: Note that even MIN, MAX or even SUM function will also work here. The reason is that the computation expects that we are working at an aggregation but there are no aggregate functions used here. It turns out that every row will become a <em>mark</em>. Since each mark corresponds to only one row, we can use any function MIN, MAX, or SUM.</li>
  <li>Now until <strong>Job Type</strong> changes, i.e. for first, second and third row, we need <strong>0</strong> as <em>previous value</em>. This is easily achieved by setting <em>compute using</em> to <strong>Job Type</strong>. Thus this <em>computation</em> results <strong>53</strong> for first, second and third row.</li>
  <li>Lets move to fourth row. Here <strong>Job Type</strong> changed from <em>Entry</em> to <em>Manager</em>. Here <strong>Previous Value(0)</strong> <em>remembers</em> the value of the computation done last time which was <strong>53</strong>; Thus the expression becomes <strong>ATTR[Total % of Jobs] + 53</strong>.</li>
  <li>This computation will remain same till fourth, fifth and sixth row, until <strong>Job Type</strong> changes again.</li>
  <li>And yo, we have it!!</li>
</ul>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/crstab2.png" class="alignimgcenter" itemprop="image" /></p>

<p>Now the calculations are in place, let’s plot the graph:</p>

<ul>
  <li>Put <strong>Job Type</strong> on <em>Detail shelf</em> and sort it descending by <strong>Total % of jobs Female</strong></li>
  <li>Place the <strong>x-axis</strong> pill on column shelf and change it to continuous (Remember its <em>Compute Using</em> is set at <strong>Job Type</strong></li>
  <li>Place <strong>SUM(Percentage)</strong> on rows shelf (Again any aggregate function like Sum, Min, Max, Average can be used here) and change it to continuous.</li>
  <li>Move <strong>Sub-Type</strong> to color shelf. Also put <strong>Sub-Type</strong> on Filter and Exclude “Total” value from it. Now the bars will be divided into Female and Male percentages.</li>
  <li>At last, put the <strong>ATTR(Total % of Jobs)</strong> on Size shelf so that the width of the bars is set accordingly (Again any aggregate function like Sum, Min, Max, Average can be used here). Change the size control from Manual to Fixed and make it right aligned. (Note that the fixed control option is available only when the axis is continuous. So if the <strong>x-axis</strong> is set to discreet, we wont be able to change the size to fixed.</li>
</ul>

<p>All this will get us here:</p>

<p><img src="http://www.tarannum.io/assets/img/wowed/wk8/preformat.png" class="alignimgcenter" itemprop="image" /></p>

<p>With a bit of formatting and labelling we get the Final Dashboard:</p>

<ul>
  <li>I created a separate sheet for the header so that I can also highlight specific <strong>Job Type</strong> by clicking on it</li>
  <li>Equal proportions and Male, Female labels by reference lines</li>
  <li>Floated rest of the text and the down arrow image.</li>
</ul>

<p>The final dashboard is as below.</p>

<div class="show-for-small-down">
<a href="https://public.tableau.com/views/Merimekkochart/Merimekkochart?:embed=y&amp;:display_count=yes">
<img src="http://www.tarannum.io/assets/img/wowed/wk8/final.png" class="alignimgcenter" itemprop="image" />
</a>
</div>
<!-- tags lable -->
<div class="show-for-medium-up">
<div class="tableauPlaceholder" id="viz1488113464540" style="position: relative"><noscript><a href="#"><img alt=" " src="https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Me&#47;Merimekkochart&#47;Merimekkochart&#47;1_rss.png" style="border: none" /></a></noscript><object class="tableauViz" style="display:none;"><param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" /> <param name="site_root" value="" /><param name="name" value="Merimekkochart&#47;Merimekkochart" /><param name="tabs" value="no" /><param name="toolbar" value="yes" /><param name="static_image" value="https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Me&#47;Merimekkochart&#47;Merimekkochart&#47;1.png" /> <param name="animate_transition" value="yes" /><param name="display_static_image" value="yes" /><param name="display_spinner" value="yes" /><param name="display_overlay" value="yes" /><param name="display_count" value="yes" /></object></div><script type="text/javascript">    var divElement = document.getElementById('viz1488113464540');    var vizElement = divElement.getElementsByTagName('object')[0];    vizElement.style.width='704px';vizElement.style.height='769px';    var scriptElement = document.createElement('script');    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';    vizElement.parentNode.insertBefore(scriptElement, vizElement);</script>
</div>


            <hr/>
			</span>

            
            <p class="tm10">
                <span><a title="View all posts in tableau" href="/archives/#search/tableau"><span class="radius info label">tableau</span></a> <a title="View all posts in WorkoutWednesday" href="/archives/#search/WorkoutWednesday"><span class="radius info label">WorkoutWednesday</span></a> <a title="View all posts in Merimekko" href="/archives/#search/Merimekko"><span class="radius info label">Merimekko</span></a> </span>
            </p>
            

            <p class="b60">
                
                <a class="left icon-chevron-left r15" title="Workout Wednesday Week 7 - Dynamic Trellis Chart" href="/2017/02/17/workout-wednesday-week7.html">previous </a>
                
                
            </p>

            <br/>

            
            

	<div id="disqus_thread"></div>
	<script>
		/**
		 * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
		 * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
		 */
		var disqus_identifier = 'visualvantage';

		
		var disqus_config = function () {
		 //this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
		 this.page.identifier = "/2017/02/25/workout-wednesday-week8.html"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
		};
		


		(function() { // DON'T EDIT BELOW THIS LINE
			var d = document, s = d.createElement('script');

			s.src = '//' + disqus_identifier + '.disqus.com/embed.js';

			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>






            
        </article>
    </div><!-- /.medium-8.columns -->

</div><!-- /.row -->


	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" title="Go to Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast')">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->

    <footer id="footer-content" class="bg-grau">
      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-6 columns">
                <div class="column pl0 pr0">
                    <ul class="inline-list">
                        <li>Created with &hearts; by tarannum</li>
                    </ul>
                </div>
                <div class="column pl0 pr0">
                    <ul class="inline-list">
                        
                        <li><a href="/rss-feed.xml"  target="_blank"  class="rss-link" title="Subscribe to RSS">RSS</a></li>
                        
                        <li><a href="mailto:tarannum.in@gmail.com"  class="contact-link" title="Contact">Contact</a></li>
                        
                    </ul>
                </div>
              <div class="column pl0 pr0">
                  <ul class="inline-list">
                      <li>&copy;2018 visual vantage</li>
                  </ul>
              </div>
          </section>
          <section id="subfooter-right" class="small-6 columns social-icons end">
              <div class="column pl0 pr0">
              <ul class="inline-list">
                
                  <li><a href="http://twitter.com/tarannum_in" target="_blank" class="icon-twitter" title="Follow on twitter"></a></li>
                
                  <li><a href="http://github.com/taraansa" target="_blank" class="icon-github" title="Follow on github"></a></li>
                
              </ul>
              </div>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>


	<script src="http://www.tarannum.io/assets/js/inchmeal_all.js"></script>

<script>
  var sectionName = "";
  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91365673-1', 'auto');
  ga('send', 'pageview');
  
</script>
</body>
</html>
